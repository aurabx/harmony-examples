# ------------------------
# DICOM Backend (SCU) Example
#-------------------------
[pipelines.dicom_backend_demo]
description = "HTTP request triggers DIMSE SCU operations via DICOM backend"
networks = ["http_net"]
endpoints = ["http_to_dicom"]
middleware = []
backends = ["dicom_pacs"]

# ------------------------
# Endpoint
#-------------------------
[endpoints.http_to_dicom]
service = "http"
[endpoints.http_to_dicom.options]
path_prefix = "/"

# ------------------------
# DICOM backend (remote PACS)
#-------------------------
[backends.dicom_pacs]
service = "dicom_scu"
target_ref = "orthanc"
# Uses target definition from config.toml

[backends.dicom_pacs.options]
aet = "ORTHANC"
host = "localhost"
port = 4242
local_aet = "HARMONY_SCU"
dimse_retrieve_mode = "get"
incoming_store_port = 11112
persistent_store_scp = true
use_tls = false
