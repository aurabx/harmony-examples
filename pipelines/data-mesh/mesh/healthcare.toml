# Healthcare Data Mesh Configuration
# Defines mesh networking for secure inter-organization healthcare data exchange
# Ingress and egress definitions are now defined in the pipeline file (pipelines/api.toml)

# ============================================================================
# MESH DEFINITION
# References ingress and egress points defined in pipelines
# ============================================================================

[mesh.healthcare]
type = "http3"              # Use HTTP/3 for modern, efficient communication
provider = "local"          # Self-managed mesh (use "runbeam" for cloud-managed)
auth_type = "jwt"           # JWT-based authentication between mesh members

# JWT Configuration (choose one of the following options):
# Option 1: HS256 symmetric key (simpler, all members share the same secret)
jwt_secret = "healthcare-mesh-shared-secret-min-32-characters"

# Option 2: RS256 asymmetric keys (more secure, requires key distribution)
# jwt_private_key_path = "/etc/harmony/mesh/private.pem"  # For signing (egress)
# jwt_public_key_path = "/etc/harmony/mesh/public.pem"    # For verification (ingress)

# References to ingress/egress defined in pipelines/api.toml under pipelines.mesh_api.mesh
ingress = ["fhir_ingress", "dicomweb_ingress"]
egress = ["partner_egress", "imaging_egress"]
description = "Healthcare data mesh for secure inter-organization data exchange"
enabled = true
